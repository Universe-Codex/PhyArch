<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhyArch NEXUS â€” Multi-Mode Hub</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.134.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cannon-es@0.20.0/dist/cannon-es.min.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
    
    <style>
        :root { --accent: #00ff9d; --bg: #020205; --panel: #0a0a0f; --font: 'Inter', sans-serif; }
        * { margin:0; padding:0; box-sizing:border-box; }
        body { background:var(--bg); color:#fff; font-family:var(--font); overflow:hidden; }

        /* --- 1. MINIMAL BOOT --- */
        #boot-screen {
            position: fixed; inset:0; background:#000; z-index:10000;
            display:flex; align-items:center; justify-content:center;
            transition: opacity 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .boot-logo { font-size:28px; font-weight:900; letter-spacing:12px; }
        .boot-logo span { color:var(--accent); }

        /* --- 2. HUB (NETFLIX STYLE) --- */
        #hub {
            height:100vh; width:100%; padding: 40px 60px; overflow-y: auto;
            display:none; transition: transform 0.6s ease;
        }
        .nav-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:40px; }
        .mode-toggles { display:flex; gap:10px; }
        .mode-btn { background:rgba(255,255,255,0.05); border:1px solid #222; color:#fff; padding:8px 16px; border-radius:20px; cursor:pointer; font-size:11px; }
        .mode-btn.active { background:var(--accent); color:#000; border:none; }

        .billboard { 
            width:100%; height:45vh; border-radius:12px; background:linear-gradient(45deg, #001a0d, #05050a);
            display:flex; flex-direction:column; justify-content:center; padding:60px; margin-bottom:40px;
            position:relative; overflow:hidden;
        }
        .billboard h1 { font-size:48px; margin-bottom:10px; }
        .billboard p { opacity:0.6; max-width:500px; margin-bottom:20px; }

        .row-title { font-size:18px; margin-bottom:20px; color:var(--accent); }
        .project-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:20px; }
        .project-card { 
            background:var(--panel); border:1px solid #1a1a1a; height:180px; border-radius:8px; 
            padding:20px; display:flex; flex-direction:column; justify-content:flex-end;
            transition: transform 0.3s; cursor:pointer;
        }
        .project-card:hover { transform: scale(1.03); border-color:var(--accent); }

        /* --- 3. FEED (TIKTOK STYLE) --- */
        #feed {
            height:100vh; width:100%; scroll-snap-type: y mandatory; overflow-y: scroll;
            display:none; position:fixed; inset:0;
        }
        .feed-item { 
            height:100vh; width:100%; scroll-snap-align:start; 
            display:flex; align-items:flex-end; padding:60px;
            background: radial-gradient(circle at bottom left, #002211 0%, #000 60%);
        }

        /* --- 4. WORKSPACE --- */
        #workspace {
            position:fixed; inset:0; display:flex; 
            transform:translateX(100%); transition:transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            background:#000; z-index:2000;
        }
        #viewport { flex:1; background:#000; }
        .side-lab { width:380px; background:var(--panel); border-left:1px solid #1a1a1a; padding:30px; }

        /* Utils */
        .cta { padding:12px 24px; background:var(--accent); color:#000; border-radius:4px; border:none; font-weight:bold; cursor:pointer; width:fit-content; }
        textarea { width:100%; background:#000; border:1px solid #333; color:var(--accent); padding:15px; border-radius:8px; margin-bottom:20px; font-family:'JetBrains Mono', monospace; }
    </style>
</head>
<body>

    <div id="boot-screen">
        <div class="boot-logo">PHY<span>ARCH</span></div>
    </div>

    <div id="hub">
        <div class="nav-header">
            <div style="font-weight:900; letter-spacing:4px;">NEXUS</div>
            <div class="mode-toggles">
                <button class="mode-btn active" onclick="switchView('hub')">GRID VIEW</button>
                <button class="mode-btn" onclick="switchView('feed')">FEED VIEW</button>
                <button class="mode-btn" onclick="openLab()">DIRECT WORK</button>
            </div>
        </div>

        <div class="billboard">
            <h1>NEBULA CORE</h1>
            <p>A procedural star-birth simulation running on our latest Quantum Physics kernel. High performance, zero latency.</p>
            <button class="cta" onclick="openLab()">OPEN PROJECT</button>
        </div>

        <h3 class="row-title">RECENT SIMULATIONS</h3>
        <div class="project-grid">
            <div class="project-card" onclick="openLab()"><h3>Helix-V4</h3><p style="font-size:11px; opacity:0.5;">Last edit: 2h ago</p></div>
            <div class="project-card" onclick="openLab()"><h3>Market-Drop</h3><p style="font-size:11px; opacity:0.5;">Last edit: 1d ago</p></div>
            <div class="project-card" onclick="openLab()"><h3>Fluid-Test</h3><p style="font-size:11px; opacity:0.5;">Last edit: 4d ago</p></div>
        </div>
    </div>

    <div id="feed">
        <div class="feed-item">
            <div>
                <h1 style="font-size:32px;">HELIX V4</h1>
                <p style="margin:10px 0 20px; opacity:0.6;">Automated genetic structuralism.</p>
                <button class="cta" onclick="openLab()">WORK ON THIS</button>
            </div>
        </div>
        <div class="feed-item" style="background: radial-gradient(circle at bottom left, #001122 0%, #000 60%);">
            <div>
                <h1 style="font-size:32px;">MARKET DROP</h1>
                <p style="margin:10px 0 20px; opacity:0.6;">Real-time asset collision.</p>
                <button class="cta" onclick="openLab()">WORK ON THIS</button>
            </div>
        </div>
    </div>

    <div id="workspace">
        <div id="viewport">
            <button onclick="closeLab()" style="position:absolute; top:25px; left:25px; background:rgba(255,255,255,0.05); color:#fff; border:1px solid #333; padding:10px 20px; border-radius:5px; cursor:pointer;">EXIT TO HUB</button>
        </div>
        <div class="side-lab">
            <h2 style="margin-bottom:30px; font-size:20px; color:var(--accent);">LAB CORE</h2>
            <label style="font-size:10px; opacity:0.5;">AI FORGE PROMPT</label>
            <textarea rows="4" placeholder="Describe matter..."></textarea>
            <button class="cta" style="width:100%;">GENERATE</button>
            
            <div style="margin-top:40px;">
                <label style="font-size:10px; opacity:0.5;">PYTHON KERNEL</label>
                <textarea rows="8" placeholder="# import omni..."></textarea>
                <button class="cta" style="width:100%; background:#fff;">EXECUTE</button>
            </div>
        </div>
    </div>

<script>
    // System Transitions
    function switchView(view) {
        document.getElementById('hub').style.display = view === 'hub' ? 'block' : 'none';
        document.getElementById('feed').style.display = view === 'feed' ? 'block' : 'none';
        
        document.querySelectorAll('.mode-btn').forEach(btn => {
            btn.classList.toggle('active', btn.innerText.toLowerCase().includes(view));
        });
    }

    function openLab() {
        document.getElementById('workspace').style.transform = 'translateX(0)';
    }

    function closeLab() {
        document.getElementById('workspace').style.transform = 'translateX(100%)';
    }

    // App Initialization
    (async () => {
        // Prepare Engine (Placeholder for Three.js/Pyodide init)
        setTimeout(() => {
            document.getElementById('boot-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('boot-screen').style.display = 'none';
                document.getElementById('hub').style.display = 'block';
            }, 1000);
        }, 2000);
    })();
</script>
</body>
</html>
